"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[428],{1428:function(e,s,t){t.r(s),t.d(s,{default:function(){return ae}});var r=t(5671),i=t(3144),o=t(136),a=t(5716),n=t(2791),l=t(364),c="Profile_content__7AaCY";var u=t(181);function _(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,n=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!s||o.length!==s);a=!0);}catch(l){n=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(n)throw i}}return o}}(e,s)||(0,u.Z)(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p="ProfileInfo_profile__LEh+5",f="ProfileInfo_profile__content__mHGfy",d="ProfileInfo_profile__overlay__CHOC0",m="ProfileHeader_profile__header__usqyZ",h="ProfileHeader_imageContainer__dfJ3g",x="ProfileHeader_profile__avatar__UJCtv",v="ProfileStatus_status-container__Jnb6y",j="ProfileStatus_status-span__43prM",P="ProfileStatus_status-input__lUeSF",N=t(184),b=function(e){var s=e.userStatus,t=e.updateStatus,r=e.isOwner,i=_((0,n.useState)(!1),2),o=i[0],a=i[1],l=_((0,n.useState)(s),2),c=l[0],u=l[1];(0,n.useEffect)((function(){u(s)}),[s]);var p=(0,N.jsx)("span",{className:j,onDoubleClick:function(){a(!0)},children:s||"Click to add status"}),f=(0,N.jsx)("input",{className:P,autoFocus:!0,value:c,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){t(c),a(!1)}});return(0,N.jsx)("div",{className:v,children:r&&o?f:p})},g=function(e){var s=e.userProfile,t=e.userStatus,r=e.updateStatus,i=e.isOwner,o=e.updatePhoto;return(0,N.jsxs)("div",{className:m,children:[(0,N.jsxs)("div",{className:h,children:[(0,N.jsx)("img",{className:x,src:s.photos.large||"https://placehold.co/50x50?text=No+Avatar",alt:"avatar"}),i&&(0,N.jsx)("input",{onChange:function(e){e.target.files&&e.target.files.length&&o(e.target.files[0])},type:"file"})]}),(0,N.jsx)(b,{userStatus:t,updateStatus:r,isOwner:i})]})},y={profile__description:"ProfileDescription_profile__description__Bri77",profile__item:"ProfileDescription_profile__item__YZNab",profile__label:"ProfileDescription_profile__label__ubyzV",profile__text:"ProfileDescription_profile__text__qezfN",profile__edit:"ProfileDescription_profile__edit__Lrwk-",profile__contacts:"ProfileDescription_profile__contacts__UxbD8"},S="ProfileContacts_profile__links__E2wob",k="ProfileContacts_profile__link__lDFDr",C=function(e){var s=e.title,t=e.value;return(0,N.jsx)("div",{className:S,children:(0,N.jsx)("a",{className:k,href:t,target:"_blank",rel:"noopener noreferrer",children:s})})},F=function(e){var s=e.userProfile,t=e.isOwner,r=e.goToEditMode;return(0,N.jsxs)("div",{className:y.profile__description,children:[t&&(0,N.jsx)("div",{children:(0,N.jsx)("button",{className:y.profile__edit,onClick:r,children:"Edit"})}),(0,N.jsxs)("div",{className:y.profile__item,children:[(0,N.jsx)("h2",{className:y.profile__name,children:s.fullName}),(0,N.jsx)("span",{className:y.profile__label,children:"About me:"}),(0,N.jsx)("span",{className:y.profile__text,children:s.aboutMe})]}),(0,N.jsxs)("div",{className:y.profile__item,children:[(0,N.jsx)("span",{className:y.profile__label,children:"Looking for a job:"}),(0,N.jsx)("span",{className:y.profile__text,children:s.lookingForAJob?"\ud83d\udcbc":"\ud83d\ude00"})]}),(0,N.jsxs)("div",{className:y.profile__item,children:[(0,N.jsx)("div",{className:y.profile__label,children:"My professional skills:"}),(0,N.jsx)("div",{className:y.profile__text,children:(0,N.jsx)("p",{children:s.lookingForAJobDescription})})]}),(0,N.jsxs)("div",{className:y.profile__contacts,children:[(0,N.jsx)("div",{className:y.profile__label,children:"Contacts:"}),Object.keys(s.contacts).map((function(e){return(0,N.jsx)(C,{title:e,value:s.contacts[e]},e)}))]})]})},I={profile__description:"ProfileDescriptionForm_profile__description__p7EMQ",profile__item:"ProfileDescriptionForm_profile__item__Ulm5C",profile__label:"ProfileDescriptionForm_profile__label__Yoz2X",button__container:"ProfileDescriptionForm_button__container__tMbPt",profile__contacts:"ProfileDescriptionForm_profile__contacts__Eh8zh",profile__contact:"ProfileDescriptionForm_profile__contact__HuzIo"},Z=t(9408),w=t(704),A=(0,w.Z)({form:"edit-profile"})((function(e){var s=e.handleSubmit,t=e.userProfile;e.initialValues,e.error;return(0,N.jsxs)("form",{className:I.profile__description,onSubmit:s,children:[(0,N.jsxs)("div",{className:I.profile__item,children:[(0,N.jsx)("span",{className:I.profile__label,children:"Full name:"}),(0,Z.Gr)("Full name","fullName",[],Z.II)]}),(0,N.jsxs)("div",{className:I.profile__item,children:[(0,N.jsx)("span",{className:I.profile__label,children:"About me:"}),(0,Z.Gr)("About me","aboutMe",[],Z.gx)]}),(0,N.jsxs)("div",{className:I.profile__item,children:[(0,N.jsx)("span",{className:I.profile__label,children:"Looking for a job:"}),(0,Z.Gr)("","lookingForAJob",[],Z.II,{type:"checkbox"})]}),(0,N.jsxs)("div",{className:I.profile__item,children:[(0,N.jsx)("span",{className:I.profile__label,children:"My professional skills:"}),(0,N.jsx)("div",{className:I.profile__text,children:(0,Z.Gr)("My professional skills","lookingForAJobDescription",[],Z.gx)})]}),(0,N.jsxs)("div",{className:I.profile__item,children:[(0,N.jsx)("span",{className:I.profile__label,children:"Contacts:"}),(0,N.jsx)("div",{className:I.profile__contacts,children:Object.keys(t.contacts).map((function(e){return(0,N.jsx)("div",{className:I.profile__contact,children:(0,Z.Gr)(e,"contacts.".concat(e),[],Z.II)},e)}))})]}),(0,N.jsx)("div",{className:I.button__container,children:(0,N.jsx)("button",{children:"Save"})})]})})),D=function(e){var s=e.userProfile,t=e.userStatus,r=e.updateStatus,i=e.isOwner,o=e.updatePhoto,a=e.saveProfile,l=_((0,n.useState)(!1),2),c=l[0],u=l[1];return(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("div",{className:d}),(0,N.jsxs)("div",{className:f,children:[(0,N.jsx)(g,{userProfile:s,userStatus:t,updateStatus:r,isOwner:i,updatePhoto:o}),c?(0,N.jsx)(A,{initialValues:s,userProfile:s,onSubmit:function(e){a(e).then((function(){u(!1)}))}}):(0,N.jsx)(F,{goToEditMode:function(){u(!0)},isOwner:i,userProfile:s})]})]})},M={postContainer:"MyPosts_postContainer__BI7sh"},O="Post_post__qzhSE",E="Post_postWrap__Ptawq",U="Post_avatarImage__SYQm6",B="Post_likeWrap__a5TM-",q="Post_likeIcon__EPoMU",z="Post_likeCount__sORsr",G=function(e){return(0,N.jsxs)("div",{className:O,children:[(0,N.jsxs)("div",{className:E,children:[(0,N.jsx)("img",{className:U,loading:"lazy",src:"https://avatars.mds.yandex.net/i?id=9690567e5e6fb690dc43597b14148235a9c6a99e-9167398-images-thumbs&n=13",alt:"avatar"}),(0,N.jsx)("p",{children:e.message})]}),(0,N.jsxs)("div",{className:B,children:[(0,N.jsx)("span",{className:q}),(0,N.jsxs)("span",{className:z,children:["like: ",e.likeCount]})]})]})},J=t(6139),H="AddPostForm_postContainer__ORdrv",L="AddPostForm_postForm__aR+aR",R="AddPostForm_postInputContainer__OpPBe",T="AddPostForm_postInput__9S4u5",Y="AddPostForm_postButton__6sWZM",W=t(3079),V=(0,W.B)(20),Q=(0,w.Z)({form:"postForm"})((function(e){var s=e.handleSubmit;return(0,N.jsx)("div",{className:H,children:(0,N.jsxs)("form",{className:L,onSubmit:s,children:[(0,N.jsx)("div",{className:R,children:(0,N.jsx)(J.Z,{className:T,component:Z.gx,name:"newMessageBody",validate:[W.C,V],placeholder:"Write your post..."})}),(0,N.jsx)("button",{className:Y,type:"submit",children:"Add Post"})]})})})),$=t(6300),X=(0,l.$j)((function(e){return{posts:e.profilePage.posts}}),{addPost:$.q2})((function(e){var s=e.posts,t=e.addPost,r=s.map((function(e){return(0,N.jsx)(G,{id:e.id,message:e.message,likeCount:e.likeCount},e.id)}));return(0,N.jsxs)("div",{className:M.postContainer,children:[(0,N.jsx)(Q,{onSubmit:function(e){t(e.newMessageBody)}}),(0,N.jsx)("div",{className:M.postList,children:r})]})})),K=function(e){var s=e.userProfile,t=e.userStatus,r=e.updateStatus,i=e.isOwner,o=e.updatePhoto,a=e.saveProfile;return(0,N.jsxs)("div",{className:c,children:[(0,N.jsx)(D,{userProfile:s,userStatus:t,updateStatus:r,isOwner:i,updatePhoto:o,saveProfile:a}),(0,N.jsx)(X,{})]})},ee=t(6159),se=t(9271),te=t(6559),re=t(7781),ie=t(1912),oe=function(e){(0,o.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,r.Z)(this,t),s.apply(this,arguments)}return(0,i.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(null!==this.props.authUserId?e=String(this.props.authUserId):this.props.history.push("/login")),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,N.jsx)("div",{children:this.props.isFetching?(0,N.jsx)(ee.p,{}):(0,N.jsx)(K,{userProfile:this.props.userProfile,userStatus:this.props.userStatus,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,updatePhoto:this.props.updatePhoto,saveProfile:this.props.saveProfile})})}}]),t}(n.Component),ae=(0,re.qC)(te.m,se.EN,(0,l.$j)((function(e){return{isFetching:e.appPage.isFetching,userProfile:e.profilePage.userProfile,userStatus:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getProfile:$.Ai,getStatus:$.lR,updateStatus:$.Nf,toggleIsFetching:ie.MO,updatePhoto:$.tU,saveProfile:$.Ii}))(oe)},9408:function(e,s,t){t.d(s,{II:function(){return f},gx:function(){return p},Gr:function(){return d}});var r=t(8683),i=t(5987),o="FormsControls_formControl__dYuFv",a="FormsControls_error__azNq9",n=t(6139),l=t(184),c=["input","meta"],u=["input","meta"],_=function(e){e.input;var s=e.meta,t=s.touched,r=s.error,i=e.children,n=r&&t;return(0,l.jsxs)("div",{className:"".concat(o," ").concat(n?a:""),children:[i,(0,l.jsx)("div",{children:n&&(0,l.jsx)("span",{className:a,children:r})})]})},p=function(e){var s=e.input,t=(e.meta,(0,i.Z)(e,c));return(0,l.jsx)(_,(0,r.Z)((0,r.Z)({},e),{},{children:(0,l.jsx)("textarea",(0,r.Z)((0,r.Z)({},s),t))}))},f=function(e){var s=e.input,t=(e.meta,(0,i.Z)(e,u));return(0,l.jsx)(_,(0,r.Z)((0,r.Z)({},e),{},{children:(0,l.jsx)("input",(0,r.Z)((0,r.Z)({},s),t))}))},d=function(e,s,t,i,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,l.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center",alignItems:"center",color:"black"},children:[(0,l.jsx)(n.Z,(0,r.Z)({placeholder:e,name:s,component:i,validate:t},o)),a]})}},3079:function(e,s,t){t.d(s,{C:function(){return r},B:function(){return i}});var r=function(e){return e?void 0:"Field is required"},i=function(e){return function(s){return s.length>e?"Max length is ".concat(e," symbols"):void 0}}}}]);
//# sourceMappingURL=428.2ab4efae.chunk.js.map